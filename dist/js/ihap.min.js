function l(){return function(k){function f(h){if(g[h])return g[h].f;var b=g[h]={f:{},id:h,loaded:!1};k[h].call(b.f,b,b.f,f);b.loaded=!0;return b.f}var g={};f.Y=k;f.j=g;f.X="";return f(0)}([function(k,f,g){function h(a){return a&&a.J?a:{default:a}}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(c,e){for(var d=0;d<e.length;d++){var b=e[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(c,b.key,b)}}return function(c,e,d){e&&
a(c.prototype,e);d&&a(c,d);return c}}(),a=g(1),c=h(a),a=g(2),e=h(a),a=g(3),d=h(a),a=g(4),m=h(a);g=g(5);var n=h(g);g=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.m=b.m;this.i=document.getElementById(b.m.i);this.u=document.getElementById(b.m.u);this.audio=new c.default;this.controls=new e.default;this.c=new d.default(b.a);this.g=new m.default;this.F=new n.default;this.l=!1;this.j()}b(a,[{key:"play",value:function(){this.audio.play()}},
{key:"pause",value:function(){this.audio.pause()}},{key:"next",value:function(){var a=this.c.$();this.B(a)}},{key:"prev",value:function(){var a=this.c.aa();this.B(a)}},{key:"emptyPlaylist",value:function(){this.c.empty();this.audio.empty();this.A();this.o(0)}},{key:"changeSong",value:function(a){this.c.h=this.c.a.indexOf(a);this.audio.da(a);this.A();this.o(0);this.audio.s&&this.audio.play()}},{key:"setPlaylist",value:function(a){this.Z();this.V(a)}},{key:"appendToPlaylist",value:function(a){this.c.U(a);
this.w()}},{key:"prependToPlaylist",value:function(a){this.c.ba(a);this.w()}},{key:"getCurrentSong",value:function(){return this.c.a[this.c.h]}},{key:"getCurrentSongIndex",value:function(){return this.c.h}},{key:"_initializeihap",value:function(){if(void 0==this.i)throw'Cannot find container "'+this.m.i+'". Please make sure self an element with this id is present.';this.O();this.M();this.w()}},{key:"_createComponents",value:function(){this.i.appendChild(this.audio.b);this.i.appendChild(this.controls.b);
this.i.appendChild(this.g.b);this.i.appendChild(this.F.b);void 0!=this.u&&this.u.appendChild(this.c.b)}},{key:"_resetProgressBar",value:function(){var a=this.audio.element.duration;void 0==a?this.g.reset(0):this.g.reset(a)}},{key:"_updateProgressBar",value:function(a){this.g.ea(a)}},{key:"_loadFirstSong",value:function(){void 0!=this.c.a&&0!=this.c.a.length&&this.audio.H()&&this.B(this.c.a[0])}},{key:"_addListeners",value:function(){this.K();this.L();this.N()}},{key:"_addAudioListeners",value:function(){var a=
this;this.audio.element.addEventListener("timeupdate",function(){0==a.l&&a.o(this.currentTime)});this.audio.element.addEventListener("canplay",function(){a.A();a.S()});this.audio.element.addEventListener("ended",function(){a.next()})}},{key:"_addControlsListeners",value:function(){var a=this;this.controls.buttons.play.addEventListener("click",function(){a.audio.play()});this.controls.buttons.pause.addEventListener("click",function(){a.audio.pause()});this.controls.buttons.C.addEventListener("click",
function(){a.next()});this.controls.buttons.D.addEventListener("click",function(){a.ca()})}},{key:"_addProgressListeners",value:function(){var a=this;this.g.b.addEventListener("mousedown",function(c){c.preventDefault&&c.preventDefault();a.l=!0});this.g.b.addEventListener("mousemove",function(c){if(a.l){var e=a.g.element.getAttribute("aria-valuemax");a.o((c.layerX-this.offsetLeft)/this.offsetWidth*e)}});this.g.b.addEventListener("mouseup",function(c){var e=a.g.element.getAttribute("aria-valuemax");
a.audio.element.currentTime=(c.layerX-this.offsetLeft)/this.offsetWidth*e;a.l=!1})}},{key:"_updateSongInformation",value:function(){var a=this.c.a[this.c.h];this.F.element.innerHTML=a.W+" - "+a.title}}]);return a}();f.default=g;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function b(a,c){for(var e=0;e<c.length;e++){var b=c[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,
c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}(),h=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.element=this.b=null;this.s=!1;this.j()}g(b,[{key:"createMarkup",value:function(){var a=document.createElement("div");a.setAttribute("id","ihap_player_wrapper");var c=document.createElement("audio");c.setAttribute("id","ihap_player");c.setAttribute("src","");a.appendChild(c);this.b=a;this.element=c}},{key:"play",value:function(){4==this.element.readyState?
this.I():this.element.addEventListener("canplay",this.I())}},{key:"onCanPlay",value:function(){this.H()||(this.element.play(),this.s=!0)}},{key:"pause",value:function(){this.element.pause();this.s=!1}},{key:"empty",value:function(){this.element.currentTime=0;this.element.setAttribute("src","");this.element.setAttribute("aria-valuemax","0")}},{key:"is_empty",value:function(){return""==this.element.getAttribute("src")}},{key:"setSong",value:function(a){if(void 0!=a&&void 0!=a.url)this.element.currentTime=
0,this.element.setAttribute("src",a.url),this.element.load();else throw Error("Invalid song");}}]);return b}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function b(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}(),h=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.b=null;this.buttons={play:null,pause:null,C:null,D:null};this.j()}g(b,[{key:"createMarkup",value:function(){var a=document.createElement("div");a.setAttribute("id","ihap_controls_wrapper");a.setAttribute("class","ihap_controls_wrapper");var c=document.createElement("i");c.setAttribute("id","ihap_controls_play_button");c.setAttribute("class","material-icons ihap_controls_play_button");c.innerHTML="play_arrow";var b=document.createElement("i");b.setAttribute("id","ihap_controls_pause_button");
b.setAttribute("class","material-icons ihap_controls_pause_button");b.innerHTML="pause";var d=document.createElement("i");d.setAttribute("id","ihap_controls_next_button");d.setAttribute("class","material-icons ihap_controls_next_button");d.innerHTML="skip_next";var f=document.createElement("i");f.setAttribute("id","ihap_controls_previous_button");f.setAttribute("class","material-icons ihap_controls_previous_button");f.innerHTML="skip_previous";a.appendChild(c);a.appendChild(b);a.appendChild(f);a.appendChild(d);
this.buttons.play=c;this.buttons.pause=b;this.buttons.C=d;this.buttons.D=f;this.b=a}}]);return b}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function b(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}(),h=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.element=this.b=null;this.a=[];this.h=0;this.j();this.v(a)}g(b,[{key:"createMarkup",value:function(){var a=document.createElement("div");a.setAttribute("id","ihap_playlist_wrapper");a.setAttribute("class","ihap_playlist_wrapper");var c=document.createElement("ul");c.setAttribute("id","ihap_playlist");c.setAttribute("class","ihap_playlist");a.appendChild(c);this.b=a;this.element=c}},{key:"setSongs",value:function(a){void 0!=a&&(a instanceof Array||(a=[a]),this.a=a,this.R(this.a))}},{key:"getNextSong",
value:function(){if(this.G())var a=this.h+1,a=1<this.a.length&&this.a.length>a?a:0;return this.a[a]}},{key:"getPreviousSong",value:function(){if(this.G())var a=this.h-1,a=1<this.a.length&&0<=a&&this.a.length>a?a:this.a.length-1;return this.a[a]}},{key:"empty",value:function(){this.v([]);this.h=-1}},{key:"appendSongs",value:function(a){void 0!=a&&this.v(this.a.concat(a))}},{key:"prependSongs",value:function(a){void 0!=a&&(a instanceof Array||(a=[a]),this.v(a.concat(this.a)))}},{key:"_songsPresent",
value:function(){return void 0!=this.a&&this.a!=[]&&0<=this.h}},{key:"_resetPlaylist",value:function(){this.element.innerHTML=""}},{key:"_updatePlaylist",value:function(a){this.P();a instanceof Array||(a=[a]);for(var c=0;c<a.length;c++){var b=document.createElement("li");b.appendChild(document.createTextNode(a[c].title));this.element.appendChild(b)}}}]);return b}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function b(a,b){for(var e=
0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}(),h=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.element=this.b=null;this.j()}g(b,[{key:"createMarkup",value:function(){var a=document.createElement("div");a.setAttribute("id","ihap_progress_bar_wrapper");a.setAttribute("class","ihap_progress_bar_wrapper");
var b=document.createElement("div");b.setAttribute("id","ihap_progress_bar");b.setAttribute("class","ihap_progress_bar");b.setAttribute("aria-valuenow","0");b.setAttribute("aria-valuemin","0");var e=document.createElement("div");e.setAttribute("id","ihap_progress_bar_background");e.setAttribute("class","ihap_progress_bar_background");e.appendChild(b);a.appendChild(e);this.b=a;this.element=b}},{key:"reset",value:function(a){void 0!=a&&NaN!=a&&0<a&&(this.element.setAttribute("aria-valuemax",a),this.element.setAttribute("aria-valuenow",
"0"))}},{key:"updateBar",value:function(a){if(void 0!=a&&NaN!=a&&0<=a){this.element.setAttribute("aria-valuenow",a);var b=this.element.getAttribute("aria-valuemax");this.element.style.width=a/parseFloat(b)*100+"%"}}}]);return b}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function b(a,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,
d)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}(),h=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.element=this.b=null;this.j()}g(b,[{key:"createMarkup",value:function(){var a=document.createElement("div");a.setAttribute("id","ihap_song_information_wrapper");a.setAttribute("class","ihap_song_information_wrapper");var b=document.createElement("div");b.setAttribute("id","ihap_song_information_title");b.setAttribute("class",
"ihap_song_information_title");a.appendChild(b);this.element=b;this.b=a}}]);return b}();f.default=h;k.f=f["default"]}])}"object"===typeof exports&&"object"===typeof module?module.f=l():"function"===typeof define&&define.T?define("ihap",[],l):"object"===typeof exports?exports.ihap=l():this.ihap=l();
