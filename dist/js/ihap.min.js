function l(){return function(k){function f(h){if(g[h])return g[h].f;var c=g[h]={f:{},id:h,loaded:!1};k[h].call(c.f,c,c.f,f);c.loaded=!0;return c.f}var g={};f.aa=k;f.i=g;f.$="";return f(0)}([function(k,f,g){function h(a){return a&&a.I?a:{default:a}}Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(b,e){for(var d=0;d<e.length;d++){var c=e[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(b,e,d){e&&
a(b.prototype,e);d&&a(b,d);return b}}(),b=g(1),a=h(b),b=g(2),e=h(b),b=g(3),d=h(b),b=g(4),m=h(b);g=g(6);var n=h(g);g=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.m=c.m;this.j=document.getElementById(c.m.j);this.v=document.getElementById(c.m.v);this.audio=new a.default;this.controls=new e.default;this.b=new d.default(c.a);this.g=new m.default;this.H=new n.default;this.l=!1;this.i()}c(b,[{key:"play",value:function(){this.audio.play()}},
{key:"pause",value:function(){return this.audio.pause()}},{key:"skip_next",value:function(){var a=this.b.K();this.D(a);return a}},{key:"skip_prev",value:function(){var a=this.b.L();this.D(a);return a}},{key:"getNextSong",value:function(){return this.b.K()}},{key:"getPreviousSong",value:function(){return this.b.L()}},{key:"emptyPlaylist",value:function(){this.b.empty();this.audio.empty();this.B();this.s(0)}},{key:"changeSong",value:function(a){void 0!=this.b.a.indexOf(a)&&(this.b.h=this.b.a.indexOf(a),
this.audio.ea(a),this.B(),this.s(0),this.audio.u&&this.audio.play())}},{key:"setPlaylist",value:function(a){this.ba();this.Z(a);return this.F()}},{key:"getPlaylist",value:function(){return this.b.a}},{key:"appendToPlaylist",value:function(a){this.b.Y(a);this.A();return this.F()}},{key:"prependToPlaylist",value:function(a){this.b.ca(a);this.A();return this.F()}},{key:"getCurrentSong",value:function(){return this.b.a[this.b.h]}},{key:"getCurrentSongIndex",value:function(){return this.b.h}},{key:"removeFromPlaylist",
value:function(a){this.b.da(a);return this.b.a}},{key:"_initializeihap",value:function(){if(void 0==this.j)throw'Cannot find container "'+this.m.j+'". Please make sure self an element with this id is present.';this.T();this.R();this.A()}},{key:"_createComponents",value:function(){this.j.appendChild(this.audio.c);this.j.appendChild(this.controls.c);this.j.appendChild(this.g.c);this.j.appendChild(this.H.c);void 0!=this.v&&this.v.appendChild(this.b.c)}},{key:"_resetProgressBar",value:function(){var a=
this.audio.element.duration;void 0==a?this.g.reset(0):this.g.reset(a)}},{key:"_updateProgressBar",value:function(a){this.g.ga(a)}},{key:"_loadFirstSong",value:function(){void 0!=this.b.a&&0!=this.b.a.length&&this.audio.M()&&this.D(this.b.a[0])}},{key:"_addListeners",value:function(){this.O();this.P();this.S()}},{key:"_addAudioListeners",value:function(){var a=this;this.audio.element.addEventListener("timeupdate",function(){0==a.l&&a.s(this.currentTime)});this.audio.element.addEventListener("canplay",
function(){a.B();a.W()});this.audio.element.addEventListener("ended",function(){a.o()})}},{key:"_addControlsListeners",value:function(){var a=this;this.controls.buttons.play.addEventListener("click",function(){a.audio.play()});this.controls.buttons.pause.addEventListener("click",function(){a.audio.pause()});this.controls.buttons.o.addEventListener("click",function(){a.o()});this.controls.buttons.G.addEventListener("click",function(){a.fa()})}},{key:"_addProgressListeners",value:function(){var a=this;
this.g.c.addEventListener("mousedown",function(b){b.preventDefault&&b.preventDefault();a.l=!0});this.g.c.addEventListener("mousemove",function(b){if(a.l){var e=a.g.element.getAttribute("aria-valuemax");a.s((b.layerX-this.offsetLeft)/this.offsetWidth*e)}});this.g.c.addEventListener("mouseup",function(b){var e=a.g.element.getAttribute("aria-valuemax");a.audio.element.currentTime=(b.layerX-this.offsetLeft)/this.offsetWidth*e;a.l=!1})}},{key:"_updateSongInformation",value:function(){var a=this.b.a[this.b.h];
this.H.element.innerHTML=a.C+" - "+a.title}}]);return b}();f.default=g;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function c(b,a){for(var e=0;e<a.length;e++){var d=a[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),h=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.element=this.c=null;this.u=!1;this.i()}g(c,[{key:"createMarkup",value:function(){var b=document.createElement("div");b.setAttribute("id","ihap_player_wrapper");var a=document.createElement("audio");a.setAttribute("id","ihap_player");a.setAttribute("src","");b.appendChild(a);this.c=b;this.element=a}},{key:"play",value:function(){4==this.element.readyState?this.N():this.element.addEventListener("canplay",this.N())}},{key:"onCanPlay",value:function(){this.M()||(this.element.play(),this.u=!0)}},
{key:"pause",value:function(){this.element.pause();this.u=!this.element.paused;return this.element.paused}},{key:"empty",value:function(){this.element.currentTime=0;this.element.setAttribute("src","");this.element.setAttribute("aria-valuemax","0")}},{key:"is_empty",value:function(){return""==this.element.getAttribute("src")}},{key:"setSong",value:function(b){if(void 0!=b&&void 0!=b.url)this.element.currentTime=0,this.element.setAttribute("src",b.url),this.element.load();else throw Error("Invalid song");
}}]);return c}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function c(b,a){for(var e=0;e<a.length;e++){var d=a[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),h=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.c=null;this.buttons={play:null,
pause:null,o:null,G:null};this.i()}g(c,[{key:"createMarkup",value:function(){var b=document.createElement("div");b.setAttribute("id","ihap_controls_wrapper");b.setAttribute("class","ihap_controls_wrapper");var a=document.createElement("i");a.setAttribute("id","ihap_controls_play_button");a.setAttribute("class","material-icons ihap_controls_play_button");a.innerHTML="play_arrow";var e=document.createElement("i");e.setAttribute("id","ihap_controls_pause_button");e.setAttribute("class","material-icons ihap_controls_pause_button");
e.innerHTML="pause";var d=document.createElement("i");d.setAttribute("id","ihap_controls_next_button");d.setAttribute("class","material-icons ihap_controls_next_button");d.innerHTML="skip_next";var c=document.createElement("i");c.setAttribute("id","ihap_controls_previous_button");c.setAttribute("class","material-icons ihap_controls_previous_button");c.innerHTML="skip_previous";b.appendChild(a);b.appendChild(e);b.appendChild(c);b.appendChild(d);this.buttons.play=a;this.buttons.pause=e;this.buttons.o=
d;this.buttons.G=c;this.c=b}}]);return c}();f.default=h;k.f=f["default"]},function(k,f,g){Object.defineProperty(f,"__esModule",{value:!0});var h=function(){function b(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(a,e,c){e&&b(a.prototype,e);c&&b(a,c);return a}}(),c=function(b){return b&&b.I?b:{default:b}}(g(5));g=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.element=this.c=null;this.a=[];this.h=0;this.i();this.w(a)}h(b,[{key:"createMarkup",value:function(){var a=document.createElement("div");a.setAttribute("id","ihap_playlist_wrapper");a.setAttribute("class","ihap_playlist_wrapper");var b=document.createElement("ul");b.setAttribute("id","ihap_playlist");b.setAttribute("class","ihap_playlist");a.appendChild(b);this.c=a;this.element=b}},{key:"setSongs",value:function(a){this.a=[];if(void 0!=a){a instanceof Array||(a=[a]);for(var b=0;b<a.length;b++)this.a.push(new c.default(a[b]));
this.V(this.a)}}},{key:"removeSongs",value:function(){console.error("removeSongs is not implemented yet")}},{key:"getNextSong",value:function(){if(this.J())var a=this.h+1,a=1<this.a.length&&this.a.length>a?a:0;return this.a[a]}},{key:"getPreviousSong",value:function(){if(this.J())var a=this.h-1,a=1<this.a.length&&0<=a&&this.a.length>a?a:this.a.length-1;return this.a[a]}},{key:"empty",value:function(){this.w();this.h=-1}},{key:"appendSongs",value:function(a){void 0!=a&&this.w(this.a.concat(a))}},{key:"prependSongs",
value:function(a){void 0!=a&&(a instanceof Array||(a=[a]),this.w(a.concat(this.a)))}},{key:"_songsPresent",value:function(){return void 0!=this.a&&this.a!=[]&&0<=this.h}},{key:"_resetPlaylist",value:function(){this.element.innerHTML=""}},{key:"_updatePlaylist",value:function(a){this.U();a instanceof Array||(a=[a]);for(var b=0;b<a.length;b++){var c=document.createElement("li");c.appendChild(document.createTextNode(a[b].title));this.element.appendChild(c)}}}]);return b}();f.default=g;k.f=f["default"]},
function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),h=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.element=this.c=null;this.i()}g(c,[{key:"createMarkup",value:function(){var b=
document.createElement("div");b.setAttribute("id","ihap_progress_bar_wrapper");b.setAttribute("class","ihap_progress_bar_wrapper");var a=document.createElement("div");a.setAttribute("id","ihap_progress_bar");a.setAttribute("class","ihap_progress_bar");a.setAttribute("aria-valuenow","0");a.setAttribute("aria-valuemin","0");var c=document.createElement("div");c.setAttribute("id","ihap_progress_bar_background");c.setAttribute("class","ihap_progress_bar_background");c.appendChild(a);b.appendChild(c);
this.c=b;this.element=a}},{key:"reset",value:function(b){void 0!=b&&NaN!=b&&0<b&&(this.element.setAttribute("aria-valuemax",b),this.element.setAttribute("aria-valuenow","0"))}},{key:"updateBar",value:function(b){if(void 0!=b&&NaN!=b&&0<=b){this.element.setAttribute("aria-valuenow",b);var a=this.element.getAttribute("aria-valuemax");this.element.style.width=b/parseFloat(a)*100+"%"}}}]);return c}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function c(b,
a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),h=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.title=b.title;this.C=b.C;this.id=b.id;this.url=b.url;this.type=null;this.i()}g(c,[{key:"_setType",value:function(){this.url.match(/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/g)?
this.type="youtube_video":this.type="song"}}]);return c}();f.default=h;k.f=f["default"]},function(k,f){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function c(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,a,e){a&&c(b.prototype,a);e&&c(b,e);return b}}(),h=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.element=this.c=null;this.i()}g(c,[{key:"createMarkup",value:function(){var b=document.createElement("div");b.setAttribute("id","ihap_song_information_wrapper");b.setAttribute("class","ihap_song_information_wrapper");var a=document.createElement("div");a.setAttribute("id","ihap_song_information_title");a.setAttribute("class","ihap_song_information_title");b.appendChild(a);this.element=a;this.c=b}}]);return c}();f.default=h;k.f=f["default"]}])}
"object"===typeof exports&&"object"===typeof module?module.f=l():"function"===typeof define&&define.X?define("ihap",[],l):"object"===typeof exports?exports.ihap=l():this.ihap=l();
