{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 539f9b3c1f298c1b54da","webpack:///./src/js/index.js"],"names":[],"mappings":"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","file":"audioplayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"AudioPlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AudioPlayer\"] = factory();\n\telse\n\t\troot[\"AudioPlayer\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 539f9b3c1f298c1b54da\n **/","export default class AudioPlayer {\n  constructor(data) {\n    this.settings = data.settings\n    this.container = document.getElementById(data.settings.container)\n    this.songs = data.songs\n    this.current_song_index = null\n    this.audio = null\n    this.progress_bar = null\n    this.play_button = null\n    this.pause_button = null\n\n    this.initializeAudioPlayer()\n  }\n\n  initializeAudioPlayer() {\n    this.createComponents()\n    if (this.songs != undefined && this.songs.length != 0){\n      this.setCurrentSong(this.songs[0])\n      this.current_song_index = 0\n    }\n  }\n\n  createComponents() {\n    this.createPlayer()\n    this.createControls()\n    this.createProgress()\n    this.addEventListeners()\n  }\n\n  createPlayer() {\n    var player_wrapper = document.createElement('div')\n    player_wrapper.setAttribute('id', 'player_wrapper')\n\n    var audio_player = document.createElement('audio')\n    audio_player.setAttribute('id', 'player')\n    audio_player.setAttribute('src', '')\n\n    player_wrapper.appendChild(audio_player)\n    this.container.appendChild(player_wrapper)\n\n    this.audio = document.getElementById('player')\n  }\n\n  createControls() {\n    var controls_wrapper = document.createElement('div')\n    controls_wrapper.setAttribute('id', 'controls_wrapper')\n    // play button\n    this.play_button = document.createElement('i')\n    this.play_button.setAttribute('id', 'play_button')\n    this.play_button.setAttribute('class', 'mat-icon mat-icon-play')\n    // pause button\n    this.pause_button = document.createElement('i')\n    this.pause_button.setAttribute('id', 'pause_button')\n    this.pause_button.setAttribute('class', 'mat-icon mat-icon-pause')\n    // next button\n    var next_button = document.createElement('i')\n    next_button.setAttribute('id', 'next_button')\n    next_button.setAttribute('class', 'mat-icon mat-icon-skip_next')\n    // previous button\n    var previous_button = document.createElement('i')\n    previous_button.setAttribute('id', 'previous_button')\n    previous_button.setAttribute('class', 'mat-icon mat-icon-skip_previous')\n\n    controls_wrapper.appendChild(this.play_button)\n    controls_wrapper.appendChild(this.pause_button)\n\t\tcontrols_wrapper.appendChild(previous_button)\n    controls_wrapper.appendChild(next_button)\n    this.container.appendChild(controls_wrapper)\n  }\n\n  createProgress() {\n    //'<input type=\"range\" id=\"song-progress\" min=\"0\" max=\"360\" value=\"0\" />'\n\n    var progress_bar_wrapper = document.createElement('div')\n    progress_bar_wrapper.setAttribute('id', 'progress_bar_wrapper')\n    this.progress_bar = document.createElement('input')\n    this.progress_bar.setAttribute('id', 'song-progress')\n    this.progress_bar.setAttribute('min', '0')\n    this.progress_bar.setAttribute('value', '0')\n    this.progress_bar.setAttribute('type', 'range')\n\n    progress_bar_wrapper.appendChild(this.progress_bar)\n    this.container.appendChild(progress_bar_wrapper)\n  }\n\n  addEventListeners() {\n    var that = this\n    this.audio.addEventListener(\"timeupdate\", function() {\n      that.updateProgress()\n    })\n    this.audio.addEventListener('canplay', function() {\n      that.refreshProgressBar()\n    })\n\t\tthis.audio.addEventListener('ended', function() {\n\t\t\tthat.nextSong(true)\n\t\t})\n\t\tthis.progress_bar.addEventListener('click', function(e) {\n\t\t\tvar new_time = (e.pageX - this.offsetLeft) * this.max / this.offsetWidth\n\t\t\tthat.audio.currentTime = new_time\n\t\t})\n\n    this.play_button.addEventListener('click', function() {\n      that.audio.play()\n      this.className += ' disabled'\n      that.pause_button.className = \"mat-icon mat-icon-pause\"\n    })\n    this.pause_button.addEventListener('click', function() {\n      that.audio.pause()\n      this.className += ' disabled'\n      that.play_button.className = \"mat-icon mat-icon-play\"\n    })\n    document.getElementById('next_button').addEventListener('click', function() {\n      that.nextSong()\n    })\n    document.getElementById('previous_button').addEventListener('click', function() {\n      that.previousSong()\n    })\n  }\n\n  setCurrentSong(song){\n    this.audio.setAttribute('src', song.url)\n    this.audio.load()\n  }\n\n  refreshProgressBar() {\n    this.progress_bar.setAttribute(\"max\", this.audio.duration)\n    this.progress_bar.setAttribute(\"value\", \"0\")\n  }\n\n  updateProgress() {\n    this.progress_bar.value = this.audio.currentTime\n    var value = this.progress_bar.value/this.progress_bar.max;\n    this.progress_bar.style.backgroundImage = [\n      '-webkit-gradient(',\n        'linear, ',\n        'left top, ',\n        'right top, ',\n        'color-stop(' + value + ', orange), ',\n        'color-stop(' + value + ', lightgrey)',\n      ')'\n    ].join('');\n  }\n\n  nextSong(playing) {\n    if (this.songs != undefined && this.songs.length > 1){\n\t\t\tvar playing = this.audio.paused !== true || playing\n\t\t\tvar new_index = this.current_song_index + 1\n\t\t\tif (this.songs.length > new_index) {\n\t\t\t\tthis.current_song_index = new_index\n\t\t\t} else {\n\t\t\t\tthis.current_song_index = 0\n\t\t\t}\n      this.setCurrentSong(this.songs[this.current_song_index])\n\t\t\tif (playing === true) {\n\t\t\t\tthis.audio.play()\n\t\t\t}\n    }\n  }\n\n  previousSong() {\n    if (this.songs != undefined && this.songs.length > 1){\n\t\t\tvar playing = this.audio.paused !== true\n\t\t\tvar new_index = this.current_song_index - 1\n\t\t\tif (new_index >= 0) {\n\t\t\t\tthis.current_song_index = new_index\n\t\t\t} else {\n\t\t\t\tthis.current_song_index = this.songs.length - 1\n\t\t\t}\n      this.setCurrentSong(this.songs[this.current_song_index])\n\t\t\tif (playing === true) {\n\t\t\t\tthis.audio.play()\n    \t}\n    }\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/index.js\n **/"],"sourceRoot":""}